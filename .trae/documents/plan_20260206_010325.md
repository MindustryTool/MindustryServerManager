I will implement the **Catali Gamemode** by creating the necessary data structures, game logic, and commands.

### 1. Data Models (`plugin/gamemode/catali/data`)
I will create a package for data classes to manage team state:
*   **`CataliTeamData`**: The main container class linking a Mindustry `Team` to custom game data.
*   **`TeamMetadata`**: Stores the leader, member list, creation time, and leader status.
*   **`TeamLevel`**: Tracks current Level, EXP, required EXP, and available upgrade points.
*   **`TeamRespawn`**: Manages the respawn queue for units and catch cooldowns.
*   **`TeamUpgrades`**: Stores active upgrades (stat multipliers, tiers).

### 2. Spawning Systems (`plugin/gamemode/catali/spawner`)
I will implement the logic in the existing empty files:
*   **`UnitSpawner`**:
    *   Implement `spawn()` to create groups of units periodically.
    *   Add weighted random selection for unit types (common vs boss).
    *   Implement `findSafeTile()` to ensure units don't spawn in walls or too close to bases.
*   **`BlockSpawner`**:
    *   Implement `spawn()` to generate clusters of resources/blocks.
    *   Add logic to control rarity and location safety.

### 3. Core Gamemode Logic (`CataliGamemode.java`)
This class will act as the central controller:
*   **State Management**: Maintain a mapping of `Team` -> `CataliTeamData`.
*   **Game Loop**:
    *   Trigger spawners periodically.
    *   Process respawn queues.
    *   Handle leader timeouts (transfer or disband if leader is offline).
*   **Event Handling**:
    *   `UnitDestroyEvent`: Award EXP to the killer team, add the dead unit to the victim team's respawn queue.
    *   `BlockDestroyEvent`: Award EXP.
    *   `PlayerJoin`: Sync team data.
*   **Mechanics**:
    *   **Catching**: Logic to capture neutral/enemy units if conditions are met.
    *   **Protection**: Apply "invincible" or "shielded" status to new teams/units.

### 4. Commands (`plugin/commands/client/PlayCommand.java` etc.)
*   **`PlayCommand`**: Allows a player to start a new team.
    *   Assigns a new Mindustry `Team`.
    *   Initializes `CataliTeamData`.
    *   Spawns the starter unit (Poly).
*   **`CataliCommand`**: A general command for gamemode interactions (upgrades, leader transfer).

### 5. Integration
*   I will ensure `CataliGamemode` registers its listeners and updates correctly.
*   I will use `plugin.utils.Utils` where applicable for common tasks.
